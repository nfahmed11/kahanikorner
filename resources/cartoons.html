<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Microsoft Analytics tag to track analytics  -->
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "tp6dow982y");
    </script>

    <!-- Google tag to track analytics (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N97Z02BGG4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-N97Z02BGG4");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kahani Korner — Cartoons</title>
    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Grandstander:wght@700;800&family=Open+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Optional shared CSS (ok to keep) -->
    <link rel="stylesheet" href="../quicklinks/SharedCSS/common.css" />

    <style>
      /* --- THEME VARIABLES (match Resources page) --- */
      :root {
        --granite: #4a594a;
        --deep-teal: #687d70;
        --ash-grey: #b0c3b7;
        --white-smoke: #f3f1f0;
        --soft-blush: #f3dedd;
        --cotton-rose: #ffc4c3;
        --rosy-taupe: #d49797;
        --black: #1c2524;
        --white: #ffffff;

        --mint: #c9dcce;
        --radius-lg: 24px;
        --radius-md: 16px;
        --radius-pill: 999px;

        --shadow-soft: 0 18px 40px rgba(74, 89, 74, 0.15);
        --shadow-hover: 0 22px 50px rgba(74, 89, 74, 0.25);

        --card-bg: #ffffff;
        --danger: #ef4444;
        --muted: #5c6b68;

        --topbar-h: 15px; /* keep consistent with your Resources page */
        --header-top-gap: 1.75rem;
        --header-h: 74px;
      }

      /* --- RESET & BASE --- */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      html,
      body {
        width: 100%;
        overflow-x: hidden;
      }

      body {
        margin: 0;
        font-family: "Open Sans", system-ui, sans-serif;
        color: var(--granite);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        background: var(--white-smoke);

        /* OVERRIDE any "hidden until loaded" styles from common.css */
        opacity: 1 !important;
        visibility: visible !important;
      }

      img {
        max-width: 100%;
        display: block;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      button,
      select {
        font-family: inherit;
      }

      h1,
      h2,
      h3,
      h4 {
        font-family: "Grandstander", cursive;
        font-weight: 800;
        line-height: 1.2;
        margin: 0 0 1rem;
        color: var(--granite);
      }

      .hidden {
        display: none !important;
      }

      /* --- TOP PROMO BAR --- */
      .topbar {
        background: var(--ash-grey);
        color: #ffffff;
        font-size: 13px;
        font-weight: 600;
        overflow: hidden;
        white-space: nowrap;
      }

      .topbar__inner {
        display: flex;
        align-items: center;
        width: 100%;
      }

      .topbar__track {
        display: inline-block;
        padding-left: 100%;
        animation: marquee 22s linear infinite;
      }

      .topbar__track span {
        display: inline-block;
        padding-right: 50px;
        opacity: 0.95;
      }

      @keyframes marquee {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(-50%);
        }
      }

      /* --- FIXED PILL HEADER (same as Resources) --- */
      .header {
        position: fixed;
        top: calc(var(--topbar-h) + var(--header-top-gap));
        left: 50%;
        transform: translateX(-50%);
        width: min(1200px, calc(100% - 2rem));
        z-index: 100;
        padding: 0.5rem 2rem;
        background: rgba(255, 255, 255, 0.55);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(176, 195, 183, 0.7);
        border-radius: 999px;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
        transition: background 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
      }

      .header__inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        width: 100%;
      }

      .header-spacer {
        height: calc(var(--topbar-h) + var(--header-top-gap) + var(--header-h) + 1rem);
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
        font-family: "Grandstander", cursive;
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--granite);
      }

      .brand-icon {
        font-size: 1.8rem;
        color: var(--rosy-taupe);
      }

      .nav {
        display: flex;
        align-items: center;
        gap: 40px;
        font-weight: 300;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .nav a:hover {
        color: var(--soft-blush);
        font-weight: 700;
        transform: scale(1.05);
        text-shadow: -1px -1px 0 var(--granite), 1px -1px 0 var(--granite), -1px 1px 0 var(--granite),
          1px 1px 0 var(--granite);
      }

      .mobile-toggle {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--granite);
      }

      .cart-btn-landing {
        background: var(--mint);
        border: 2px solid var(--granite);
        width: 3rem;
        height: 3rem;
        border-radius: 50%;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--granite);
        transition: transform 0.2s, box-shadow 0.2s;
        cursor: pointer;
        font-size: 1rem;
      }

      .cart-btn-landing:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 0 var(--granite);
        background: var(--ash-grey);
      }

      .cart-badge-landing {
        position: absolute;
        top: -0.25rem;
        right: -0.25rem;
        background: var(--rosy-taupe);
        color: white;
        font-size: 0.75rem;
        font-weight: 800;
        min-width: 1.5rem;
        height: 1.5rem;
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid var(--white-smoke);
      }

      @media (max-width: 768px) {
        .header__inner {
          display: grid !important;
          grid-template-columns: 1fr auto 1fr;
          align-items: center;
          width: 100%;
        }

        .mobile-toggle {
          display: block !important;
          grid-column: 1;
          justify-self: start;
        }

        .brand {
          grid-column: 2;
          justify-self: center;
        }

        .cart-btn-landing {
          grid-column: 3;
          justify-self: end;
        }

        .nav {
          display: none !important;
        }
      }

      /* --- MOBILE MENU OVERLAY --- */
      .mobile-menu-overlay {
        position: fixed;
        inset: 0;
        background: rgba(28, 37, 36, 0.35);
        backdrop-filter: blur(4px);
        z-index: 120;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .mobile-menu-overlay.open {
        opacity: 1;
        pointer-events: auto;
      }

      .mobile-menu {
        position: absolute;
        top: 0;
        right: 0;
        width: 80%;
        max-width: 320px;
        height: 100%;
        background: var(--white);
        border-left: 2px solid var(--ash-grey);
        box-shadow: -4px 0 30px rgba(0, 0, 0, 0.18);
        border-radius: 24px 0 0 24px;
        padding: 1.75rem 1.5rem 2rem;
        display: flex;
        flex-direction: column;
        transform: translateX(100%);
        transition: transform 0.35s cubic-bezier(0.22, 0.61, 0.36, 1);
      }

      .mobile-menu-overlay.open .mobile-menu {
        transform: translateX(0);
      }

      .mobile-menu__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1.25rem;
      }

      .mobile-menu__brand {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        font-family: "Grandstander", cursive;
        font-weight: 800;
        color: var(--granite);
      }

      .mobile-menu__brand i {
        color: var(--rosy-taupe);
      }

      .mobile-menu__close {
        background: var(--soft-blush);
        border: 2px solid var(--granite);
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
        color: var(--granite);
        cursor: pointer;
        transition: background 0.2s ease, transform 0.1s ease;
      }

      .mobile-menu__links {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .mobile-menu__links li a {
        display: block;
        padding: 0.75rem 0.25rem;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        font-weight: 600;
        color: var(--granite);
        border-bottom: 1px dashed var(--white-smoke);
        transition: color 0.2s ease, transform 0.1s ease;
      }

      .mobile-menu__links li:last-child a {
        border-bottom: none;
      }

      .mobile-menu__links li a:hover {
        color: var(--cotton-rose);
        transform: translateX(3px);
      }

      @media (min-width: 769px) {
        .mobile-menu-overlay {
          display: none;
        }
      }

      /* --- CART OVERLAY (kept identical) --- */
      .cart-overlay {
        position: fixed;
        inset: 0;
        background: rgba(74, 89, 74, 0.2);
        z-index: 110;
        opacity: 0;
        transition: opacity 0.3s ease;
        backdrop-filter: blur(4px);
      }
      .cart-overlay.open {
        opacity: 1;
      }

      .cart-sidebar {
        position: absolute;
        top: 1rem;
        right: 1rem;
        bottom: 1rem;
        width: calc(100% - 2rem);
        max-width: 400px;
        background: var(--card-bg);
        border-radius: 1.5rem;
        box-shadow: 0 0 0 4px var(--ash-grey);
        transform: translateX(110%);
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .cart-overlay.open .cart-sidebar {
        transform: translateX(0);
      }

      .cart-header {
        padding: 1.5rem;
        border-bottom: 2px dashed var(--ash-grey);
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: var(--white-smoke);
      }

      .close-btn {
        background: var(--soft-blush);
        border: none;
        font-size: 1.25rem;
        color: var(--granite);
        padding: 0.5rem;
        border-radius: 50%;
        width: 2.5rem;
        height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
        cursor: pointer;
      }

      .cart-items {
        flex: 1;
        overflow-y: auto;
        padding: 1.5rem;
      }

      .cart-item {
        display: flex;
        gap: 1rem;
        margin-bottom: 1.5rem;
        background: var(--white-smoke);
        padding: 1rem;
        border-radius: 1rem;
      }

      .cart-item img {
        width: 4rem;
        height: 4rem;
        border-radius: 0.75rem;
        object-fit: cover;
        background: white;
      }

      .cart-item-details {
        flex: 1;
      }

      .cart-item-details h4 {
        font-size: 1rem;
        margin-bottom: 0.25rem;
      }

      .cart-item-price {
        font-weight: 700;
        color: var(--rosy-taupe);
        margin-bottom: 0.5rem;
      }

      .cart-controls {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .qty-btn {
        width: 1.75rem;
        height: 1.75rem;
        border: 2px solid var(--ash-grey);
        background: white;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: var(--granite);
        cursor: pointer;
      }

      .remove-btn {
        margin-left: auto;
        background: none;
        border: none;
        color: var(--danger);
        font-size: 0.75rem;
        font-weight: 600;
        cursor: pointer;
      }

      .cart-footer {
        padding: 1.5rem;
        border-top: 2px dashed var(--ash-grey);
        background: var(--white-smoke);
      }

      .cart-total {
        display: flex;
        justify-content: space-between;
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--granite);
        margin-bottom: 1rem;
      }

      .checkout-btn {
        width: 100%;
        padding: 1.25rem;
        background: var(--granite);
        color: white;
        border: none;
        border-radius: 1rem;
        font-size: 1.125rem;
        font-weight: 700;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 0 var(--deep-teal);
        cursor: pointer;
      }

      .empty-cart-msg {
        text-align: center;
        color: var(--deep-teal);
        margin-top: 2rem;
        font-style: italic;
      }

      /* --- PAGE LAYOUT (Cartoons) --- */
      .page-main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 3.25rem 1.5rem 4rem;
      }

      .cartoons-card {
        background: var(--card-bg);
        border: 1px solid var(--ash-grey);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-soft);
        padding: clamp(1.75rem, 3vw, 3rem) clamp(1.25rem, 3vw, 2.5rem);
      }

      .cartoons-header {
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .cartoons-header h1 {
        font-size: clamp(2rem, 3.2vw, 2.6rem);
        margin-bottom: 0.75rem;
      }

      .subheading {
        margin: 0 auto;
        max-width: 760px;
        color: var(--muted);
        font-size: clamp(0.95rem, 1.2vw, 1.05rem);
        line-height: 1.75;
      }

      .controls-row {
        margin-top: 1.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .filter-container {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--white-smoke);
        border: 2px solid var(--ash-grey);
        border-radius: var(--radius-pill);
        padding: 0.55rem 0.75rem;
        box-shadow: 0 10px 24px rgba(74, 89, 74, 0.08);
      }

      .filter-container label {
        font-weight: 700;
        font-size: 0.85rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        color: var(--deep-teal);
        padding-left: 0.25rem;
      }

      #categoryFilter {
        appearance: none;
        -webkit-appearance: none;
        border: 0;
        background: transparent;
        font-weight: 700;
        color: var(--granite);
        padding: 0.35rem 2rem 0.35rem 0.6rem;
        border-radius: var(--radius-pill);
        cursor: pointer;
        outline: none;
        min-width: 190px;
      }

      .filter-container {
        position: relative;
      }

      .filter-container::after {
        content: "▾";
        position: absolute;
        right: 14px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--rosy-taupe);
        font-weight: 900;
        pointer-events: none;
      }

      /* --- GRID / VIDEO CARDS --- */
      .grid {
        margin-top: 2rem;
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 1.25rem;
      }

      @media (max-width: 980px) {
        .grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }
      @media (max-width: 620px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .video-wrapper {
        background: var(--white);
        border: 2px solid var(--ash-grey);
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: 0 14px 32px rgba(74, 89, 74, 0.12);
        transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
      }

      .video-wrapper:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-hover);
        border-color: rgba(212, 151, 151, 0.65);
      }

      .video-thumb {
        width: 100%;
        height: 190px;
        object-fit: cover;
        display: block;
        background: var(--white-smoke);
      }

      .video-body {
        padding: 1rem 1.1rem 1.2rem;
      }

      .video-title {
        font-family: "Grandstander", cursive;
        font-weight: 800;
        font-size: 1.2rem;
        margin: 0 0 0.35rem;
        line-height: 1.25;
      }

      .video-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.75rem;
        margin-bottom: 0.75rem;
      }

      .video-type {
        font-size: 0.8rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--deep-teal);
        opacity: 0.9;
        white-space: nowrap;
      }

      .chip {
        font-size: 0.75rem;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        padding: 0.3rem 0.6rem;
        border-radius: var(--radius-pill);
        background: var(--white-smoke);
        border: 1px solid rgba(176, 195, 183, 0.75);
        color: var(--granite);
        white-space: nowrap;
      }

      .translation {
        font-size: 0.95rem;
        color: var(--muted);
        line-height: 1.7;
      }

      .video-link {
        display: block;
      }

      .video-link:focus-visible {
        outline: 3px solid var(--cotton-rose);
        outline-offset: 3px;
        border-radius: var(--radius-lg);
      }

      /* --- FLOATING HEARTS (keep your vibe, but softer) --- */
      .heart {
        position: fixed;
        top: -40px;
        opacity: 0.25;
        pointer-events: none;
        animation: floatDown linear infinite;
        z-index: 0;
        filter: saturate(0.95);
      }

      @keyframes floatDown {
        to {
          transform: translateY(110vh) rotate(12deg);
        }
      }

      /* --- FOOTER (match Resources) --- */
      .footer {
        width: 100%;
        background: var(--granite);
        color: var(--ash-grey);
        padding: 4rem 2rem;
        text-align: center;
        margin-top: 3rem;
      }

      .footer-tagline {
        margin: 0 0 1rem;
        font-size: 0.95rem;
        color: var(--white-smoke);
      }

      .social-icons {
        display: flex;
        justify-content: center;
        gap: 1.25rem;
        margin-top: 0.5rem;
        margin-bottom: 1.5rem;
      }

      .social-icons img {
        width: 26px;
        height: 26px;
        filter: invert(1);
        opacity: 0.85;
        transition: opacity 0.2s ease, transform 0.2s ease;
      }

      .social-icons a:hover img {
        opacity: 1;
        transform: translateY(-2px);
      }
    </style>
  </head>

  <body>
    <!-- Top Promo Bar -->
    <div class="topbar">
      <div class="topbar__inner">
        <div class="topbar__track">
          <span>Pre-Order Books Now</span><span>•</span><span>Free Shipping on All US Orders</span><span>•</span>
          <span>Pre-Order Books Now</span><span>•</span><span>Free Shipping on All US Orders</span><span>•</span>
          <span>Pre-Order Books Now</span><span>•</span><span>Free Shipping on All US Orders</span><span>•</span>
        </div>
      </div>
    </div>

    <!-- HEADER -->
    <header class="header">
      <div class="header__inner">
        <button class="mobile-toggle" id="mobile-toggle" aria-label="Open menu">
          <i class="fa-solid fa-bars"></i>
        </button>

        <a href="https://kahanikorner.com" class="brand">
          <i class="fa-solid fa-book-open-reader brand-icon"></i>
          Kahani Korner
        </a>

        <nav class="nav">
          <a href="../products.html">Shop</a>
          <a href="../subscribe.html">Subscribe</a>
          <a href="/resources/resources.html">Resources</a>
          <a href="../index.html#faq">Help</a>
          <a href="../index.html#contact">Contact</a>
        </nav>

        <button class="cart-btn-landing" id="cart-btn" aria-label="Open cart">
          <i class="fa-solid fa-cart-shopping"></i>
          <span class="cart-badge-landing hidden" id="cart-badge">0</span>
        </button>
      </div>
    </header>

    <!-- CART OVERLAY -->
    <div id="cart-overlay" class="cart-overlay hidden">
      <div class="cart-sidebar">
        <div class="cart-header">
          <h2>Your Cart</h2>
          <button id="close-cart" class="close-btn" aria-label="Close cart">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>

        <div id="cart-items" class="cart-items">
          <div class="empty-cart-msg">Your cart is empty.</div>
        </div>

        <div class="cart-footer">
          <div class="cart-total">
            <span>Total</span>
            <span id="cart-total-amount">$0.00</span>
          </div>
          <button id="checkout-btn" class="checkout-btn">Checkout</button>
        </div>
      </div>
    </div>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay" class="mobile-menu-overlay hidden">
      <nav class="mobile-menu">
        <div class="mobile-menu__header">
          <span class="mobile-menu__brand">
            <i class="fa-solid fa-book-open-reader"></i>
            Kahani Korner
          </span>
          <button class="mobile-menu__close" aria-label="Close menu">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>

        <ul class="mobile-menu__links">
          <li><a href="../products.html">Shop</a></li>
          <li><a href="../subscribe.html">Subscribe</a></li>
          <li><a href="resources.html">Resources</a></li>
          <li><a href="../index.html#faq">Help</a></li>
          <li><a href="../index.html#contact">Contact</a></li>
        </ul>
      </nav>
    </div>

    <!-- Spacer so content clears fixed header -->
    <div class="header-spacer" aria-hidden="true"></div>

    <!-- MAIN -->
    <main class="page-main">
      <section class="cartoons-card">
        <div class="cartoons-header">
          <h1>Cartoons</h1>
          <p class="subheading">
            Discover a delightful collection of Urdu cartoons that entertain and educate. From classic tales to modern
            adventures, these selections are perfect for young hearts and curious minds.
          </p>

          <div class="controls-row">
            <div class="filter-container">
              <label for="categoryFilter">Category</label>
              <select id="categoryFilter">
                <option value="all">All Videos</option>
              </select>
            </div>
          </div>
        </div>

        <div class="grid"></div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="brand" style="justify-content: center; color: var(--white); margin-bottom: 1rem">
        <i class="fa-solid fa-book-open-reader"></i> Kahani Korner
      </div>

      <p class="footer-tagline">Rooted in culture, topped with sweetness, made for little hearts.</p>

      <div class="social-icons">
        <a href="https://www.instagram.com/kahani.korner/" target="_blank" aria-label="Instagram">
          <img src="https://img.icons8.com/ios-filled/50/000000/instagram-new.png" alt="Instagram" />
        </a>
        <a href="https://facebook.com/kahanikorner" target="_blank" aria-label="Facebook">
          <img src="https://img.icons8.com/ios-filled/50/000000/facebook-new.png" alt="Facebook" />
        </a>
        <a href="https://tiktok.com/@kahanikorner" target="_blank" aria-label="TikTok">
          <img src="https://img.icons8.com/ios-filled/50/000000/tiktok.png" alt="TikTok" />
        </a>
      </div>

      <p>&copy; 2025 Kahani Korner. All rights reserved.</p>
    </footer>

    <script>
      // --- STRIPE PAYLOAD (same as Resources) ---
      function buildStripePayload(cartItems) {
        const line_items = cartItems.map((item) => ({
          price: item.id,
          quantity: item.quantity,
        }));
        return { line_items };
      }

      // --- PRODUCT DATA (optional / for cart rendering) ---
      const products = [
        {
          id: "price_1SYLwPP4FFhr5UNAc6JmV0iR",
          name: "The Kahani Times Subscription (USA)",
          price: 55.0,
          image: "../assets/TheKahaniTimes.png",
        },
        {
          id: "price_1SJFOHP4FFhr5UNAShdcDISg",
          name: "The Kahani Times Subscription (USA)",
          price: 8.99,
          image: "../assets/TheKahaniTimes.png",
        },
        {
          id: "price_1SHXL0P4FFhr5UNA8oB0SpsX",
          name: "The Kahani Times Subscription (USA)",
          price: 129.0,
          image: "../assets/TheKahaniTimes.png",
        },
      ];

      // ✅ SAME cart key for cross-page persistence
      let cart = JSON.parse(localStorage.getItem("kahani_cart")) || [];

      // --- DOM ELEMENTS ---
      const cartBtn = document.getElementById("cart-btn");
      const closeCartBtn = document.getElementById("close-cart");
      const cartOverlay = document.getElementById("cart-overlay");
      const cartItemsContainer = document.getElementById("cart-items");
      const cartTotalAmount = document.getElementById("cart-total-amount");
      const cartBadge = document.getElementById("cart-badge");
      const checkoutBtn = document.getElementById("checkout-btn");

      const mobileToggle = document.getElementById("mobile-toggle");
      const mobileMenuOverlay = document.getElementById("mobile-menu-overlay");

      // --------- YOUR VIDEO LIST ----------
      const videolist = [
        {
          name: "Omar & Hana (Urdu)",
          type: "channel",
          url: "https://www.youtube.com/c/Omarandhanaurdu",
          image:
            "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQ65dQLLNBtZQR9Rm1KhDdMYOtEiySVf9J2ERVKSLmBbUNRwYOCxGOoTwl-tBgO-8PyNr6tuw",
          category: "Islamic / Educational",
          description:
            "Omar & Hana are loving siblings who explore Islamic values and everyday lessons through songs and stories in Urdu.",
        },
        {
          name: "Burka Avenger",
          type: "series",
          url: "https://www.youtube.com/playlist?list=PLXR6od8xw_e_R68FA5FGQ4nF9g9F2f6zi",
          image: "https://i.ytimg.com/vi/h3JZGLNYwQ8/maxresdefault.jpg",
          category: "Superhero / Social Issues",
          description:
            "Pakistani animated superheroine Jiya (Burka Avenger) fights injustice and supports girls’ education in Urdu.",
        },
        {
          name: "3 Bahadur (Movie)",
          type: "film / clips",
          url: "https://www.youtube.com/watch?v=nYFe7wrkoyE",
          image: "https://i.ytimg.com/vi/nYFe7wrkoyE/sddefault.jpg",
          category: "Superhero / Adventure",
          description: "Pakistan’s first full-length CG-animated superhero film dubbed or subtitled in Urdu.",
        },
        {
          name: "3 Bahadur - Revenge of Baba Balam (Movie)",
          type: "film / clips",
          url: "https://www.youtube.com/watch?v=KM1idkyZDf8",
          image: "https://upload.wikimedia.org/wikipedia/en/1/16/3_Bahadur_part_2_poster.jpeg",
          category: "Superhero / Adventure",
          description: "Pakistan’s first full-length CG-animated superhero film dubbed or subtitled in Urdu.",
        },
        {
          name: "Team Muhafiz",
          type: "series",
          url: "https://www.youtube.com/@GeoJuniors",
          image:
            "https://yt3.googleusercontent.com/qOzZs3kS_-IF2rzc-4171HShemwCeVwwRz4QPjfglGDbIxRCRFb1VlJq885UpS7FXprboZR1F6k=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Social Justice / Superhero",
          description: "Animated series about teens fighting social issues, originally in Urdu (via ISPR-Geo).",
        },
        {
          name: "Kids Planet Urdu",
          type: "channel",
          url: "https://www.youtube.com/c/kidsplaneturdu",
          image:
            "https://yt3.googleusercontent.com/fVC2VfgnGdFIvGQUD-TKl-QoQ35GXmRqcS9A3c6TI6ooVDogLQ69Qm2crYZGhvQ4O1vS-6KORQ=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Educational / Rhymes",
          description: "Fun Urdu nursery rhymes, fairy tales and educational cartoons designed for young children.",
        },
        {
          name: "Kids Planet Hindi",
          type: "channel",
          url: "https://www.youtube.com/@KidsPlanetHindi",
          image:
            "https://yt3.googleusercontent.com/m2RJFd_wJ95P44kAHDCYvSsqxHTaWLbdG3SCsJcW45yE_qgWx6Q5i8zPUpqIARIdisoY_GAA4vQ=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Educational / Rhymes / Hindi-Urdu",
          description:
            "Kids Planet Hindi offers a wide range of Hindi and Urdu nursery rhymes, moral stories, and cartoons for children.",
        },
        {
          name: "Dream Stories Masti Urdu",
          type: "channel",
          url: "https://www.youtube.com/@dreamstoriesmastiurdu/videos",
          image:
            "https://yt3.googleusercontent.com/FoY8Ua88SAOnO25P6xb5xsz1LqC7LjffE5XUuR1G0J3-tB2F6rmBqerVayLpga3BRDbVrXm-Tw=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Storytelling / Entertainment",
          description:
            "Animated moral stories and fairy tales in Urdu designed for children, blending fun and life lessons with colorful visuals and engaging narration.",
        },
        {
          name: "Quaid Say Baatein",
          type: "channel",
          url: "https://www.youtube.com/@QuaidSayBaatein/videos",
          image: "https://yt3.googleusercontent.com/ytc/AIdro_kp53oNIYSYft8IWG3z24NWnQiUTcS15at_EGmOH866Qg=s160-c-k-c0x00ffffff-no-rj",
          category: "Patriotic / Educational",
          description:
            "Animated series teaching children life lessons and civic values inspired by Quaid-e-Azam’s principles.",
        },
        {
          name: "Rafi Peer Kids TV (Sim Sim Hamara)",
          type: "channel",
          url: "https://www.youtube.com/@simsimhamaraofficial/videos",
          image:
            "https://yt3.googleusercontent.com/KlfFQWBT73w_kHiMObPxDbI5M4IFx_ZKMuyGBQRK8488aTKBuOyP7TP3OgU3dz_G4J-1I1Vv4lg=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Educational / Puppetry / Urdu",
          description:
            "Sim Sim Hamara is a Pakistani children's television series based on Sesame Street, promoting early childhood education, diversity, and social harmony in Urdu.",
        },
        {
          name: "Commander Safeguard",
          type: "series",
          url: "https://www.youtube.com/@SafeguardPakistan/playlists",
          image: "/assets/images/resources/commander.png",
          category: "Educational / Hygiene",
          description: "Pakistan’s first animated superhero fighting germs to teach hand-washing in Urdu.",
        },
        {
          name: "Jan Cartoon",
          type: "series",
          url: "https://www.youtube.com/@SabzStudios/playlists",
          image: "/assets/images/resources/jan.png",
          category: "Family / Life Lessons",
          description: "Light-hearted animated stories about a curious five-year-old boy and everyday adventures in Urdu.",
        },
        {
          name: "Bachon Ka Qalandar Shaoor",
          type: "channel",
          url: "https://www.youtube.com/@bachonkaqalandarshaoor",
          image:
            "https://yt3.googleusercontent.com/VyndCkRLO_sRm_gObRXEiXyswgDcKF_p21RvJwsuNO00dILSE6u95EtEkMmeq6k8-27_x9RL=s160-c-k-c0x00ffffff-no-rj",
          category: "Islamic / Urdu / Spiritual",
          description:
            "Bachon Ka Qalandar Shaoor shares Islamic wisdom, stories, and moral teachings for children in Urdu.",
        },
        {
          name: "Sherazade (Urdu Dubbing)",
          type: "dubbed",
          url: "https://www.youtube.com/watch?v=pX0q3UHLKME",
          image: "https://img.youtube.com/vi/pX0q3UHLKME/hqdefault.jpg",
          category: "Dubbed Folk Tales",
          description: "Urdu-dubbed mega-episode of Arabian Nights style storytelling.",
        },
        {
          name: "Taleemabad",
          type: "channel",
          url: "https://www.youtube.com/@Taleemabad/playlists",
          image: "https://yt3.googleusercontent.com/7yS-RsoCuDba63VfwSXu5wA5b6OIQk9GItKjUawqpbg4AP3aTKPmHaMhzDm1bvVSWOaiForVGg=s160-c-k-c0x00ffffff-no-rj",
          category: "School Curriculum / Animated",
          description:
            "Animated videos in Urdu for kids that teach national curriculum topics, ideal for preschool and early primary grades.",
        },
        {
          name: "Ghulam Rasool Cartoon Series",
          type: "series",
          url: "https://www.youtube.com/results?search_query=Ghulam+Rasool+Cartoon+Urdu",
          image: "https://img.youtube.com/vi/bWuZrWJjE7M/hqdefault.jpg",
          category: "Islamic / Moral Stories",
          description: "3D animated moral stories in Urdu, popular on Kids Zone Pakistan.",
        },
        {
          name: "Kaneez Fatima Cartoon Series",
          type: "series",
          url: "https://www.youtube.com/watch?v=S8tiai8LBwY",
          image: "https://img.youtube.com/vi/S8tiai8LBwY/hqdefault.jpg",
          category: "Islamic Moral Stories",
          description: "Compilation series in Urdu/Hindi teaching Islamic values through short stories.",
        },
        {
          name: "Wow Kidz Comedy TV",
          type: "series",
          url: "https://www.youtube.com/@WowKidzComedyTV/videos",
          image:
            "https://yt3.googleusercontent.com/VovRLQLSTQGy5KBqFbCfQGwNG73zjFMvUTZED7V8cmIHDKc0U9ul1C_bVii3yQHB99Q7JMeEcw=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Comedy / Adventure",
          description: "Hilarious duo Motlu and Patlu get into wild adventures. Now available fully dubbed in Urdu for kids!",
        },
        {
          name: "Kids Zone Pakistan",
          type: "series",
          url: "https://www.youtube.com/@KidsZonePakistan/playlists",
          image: "https://yt3.googleusercontent.com/8OIbcX3lD89pQJzRMVLG7MIb_-_ieZfC4WyHXDaAJHL4YhPl6xkpIHtIMGrY3u8ZsZ1hJuEu4w=s160-c-k-c0x00ffffff-no-rj",
          category: "Comedy / Adventure",
          description: "Kids Zone Pakistan is a Kids TV Channel, for the Urdu speaking population.",
        },
        {
          name: "Pakkay Dost",
          type: "puppets",
          url: "https://www.youtube.com/@pakkaydost/playlists",
          image:
            "https://yt3.googleusercontent.com/l1MIIH-qyI7vKpTn1TrNpKtPuHEyP6bqwhFWJvgnnn4Qb_qk94JKjwNEDJTwizddJJnHkav-Bw=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Comedy / Adventure",
          description:
            "Pakkay Dost is a Pakistani Urdu puppet show that teaches children about friendship, kindness, and sharing.",
        },
        {
          name: "Kids Message",
          type: "channel",
          url: "https://www.youtube.com/@KidsMessage/playlists",
          image:
            "https://yt3.googleusercontent.com/0ggYHeqdQhiAg4ZP9n81QqGAJXI-_FatFQO11CGfsF8Xr9ldk_K5Iar91HL5EvS7jt7tChbE=w2276-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj",
          category: "Islamic / Moral Lessons",
          description: "An Urdu-language kids channel sharing Islamic stories, moral lessons, and character-building animations.",
        },
        {
          name: "Kids Land Official",
          type: "channel",
          url: "https://www.youtube.com/@KidsLandOfficial/playlists",
          image: "https://yt3.googleusercontent.com/ytc/AIdro_l8YRmETp0KbIj2jNsgqs-Amv3ApDV39YXcgnMhmuZsphI=s160-c-k-c0x00ffffff-no-rj",
          category: "Cartoons / Rhymes / Urdu-Hindi",
          description: "A colorful channel featuring nursery rhymes, animated stories, and educational content in Urdu and Hindi.",
        },
        {
          name: "Team Muhafiz",
          type: "series",
          url: "https://www.youtube.com/watch?v=xavzHy6aMLc&list=PLcAPTl-NPAsvYdDGEANu9r0bFqd4nwDFn",
          image: "/assets/images/resources/team.png",
          category: "Superhero / Social Issues",
          description:
            "Team Muhafiz follows Pakistani teens tackling social issues like education, extremism, and the environment — in Urdu.",
        },
        {
          name: "The J&J Show",
          type: "series / episode",
          url: "https://www.youtube.com/watch?v=dwUqOgjQEJA",
          image: "https://i.ytimg.com/vi/dwUqOgjQEJA/hqdefault.jpg",
          category: "Health / Educational",
          description:
            "An Urdu-language kids episode where J&J explain the Coronavirus in a fun, accessible way. Produced by Rafi Peer Theatre.",
        },
      ];


      // --- SHORT LABELS (UI) ---
// Keep your original strings in the data, but DISPLAY these short versions.
const CATEGORY_LABELS = {
  "Islamic / Educational": "Islamic",
  "Superhero / Social Issues": "Superhero",
  "Superhero / Adventure": "Superhero",
  "Social Justice / Superhero": "Justice",
  "Educational / Rhymes": "Rhymes",
  "Educational / Rhymes / Hindi-Urdu": "Rhymes",
  "Storytelling / Entertainment": "Stories",
  "Patriotic / Educational": "Patriotic",
  "Educational / Puppetry / Urdu": "Puppets",
  "Educational / Hygiene": "Hygiene",
  "Family / Life Lessons": "Family",
  "Islamic / Urdu / Spiritual": "Islamic",
  "Dubbed Folk Tales": "Dubbed",
  "School Curriculum / Animated": "School",
  "Islamic / Moral Stories": "Islamic",
  "Islamic Moral Stories": "Islamic",
  "Comedy / Adventure": "Comedy",
  "Cartoons / Rhymes / Urdu-Hindi": "Rhymes",
  "Health / Educational": "Health",
};

const TYPE_LABELS = {
  "channel": "Channel",
  "series": "Series",
  "film / clips": "Movie",
  "dubbed": "Dubbed",
  "puppets": "Puppets",
  "series / episode": "Episode",
  "film": "Movie",
  "clips": "Clips",
};

function getCategoryLabel(category) {
  return CATEGORY_LABELS[category] || String(category || "Other").split("/")[0].trim(); // fallback
}

function getTypeLabel(type) {
  const t = String(type || "video").toLowerCase().trim();
  return TYPE_LABELS[t] || TYPE_LABELS[t.replace(/\s+/g, " ")] || "Video";
}

      // --------- CART (same behavior as resources) ----------
      function init() {
        renderVideos();
        populateCategoryFilter();
        updateCartUI();

        if (cartBtn) cartBtn.addEventListener("click", openCart);
        if (closeCartBtn) closeCartBtn.addEventListener("click", closeCart);

        if (cartOverlay) {
          cartOverlay.addEventListener("click", (e) => {
            if (e.target === cartOverlay) closeCart();
          });
        }

        if (checkoutBtn) checkoutBtn.addEventListener("click", handleCheckout);

        // mobile menu
        if (mobileToggle && mobileMenuOverlay) {
          mobileToggle.addEventListener("click", openMobileMenu);

          mobileMenuOverlay.addEventListener("click", (e) => {
            if (e.target === mobileMenuOverlay) closeMobileMenu();
          });

          const closeBtn = mobileMenuOverlay.querySelector(".mobile-menu__close");
          const menuLinks = mobileMenuOverlay.querySelectorAll(".mobile-menu__links a");
          if (closeBtn) closeBtn.addEventListener("click", closeMobileMenu);
          menuLinks.forEach((link) => link.addEventListener("click", closeMobileMenu));
        }

        window.addEventListener("storage", (event) => {
          if (event.key === "kahani_cart") {
            cart = JSON.parse(event.newValue) || [];
            updateCartUI();
          }
        });
      }

      function saveCart() {
        localStorage.setItem("kahani_cart", JSON.stringify(cart));
      }

      function updateCartUI() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

        if (cartBadge) {
          cartBadge.textContent = totalItems;
          cartBadge.classList.toggle("hidden", totalItems === 0);
        }

        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        if (cartTotalAmount) cartTotalAmount.textContent = `$${total.toFixed(2)}`;

        if (!cartItemsContainer) return;

        if (cart.length === 0) {
          cartItemsContainer.innerHTML = '<div class="empty-cart-msg">Your cart is empty.</div>';
        } else {
          cartItemsContainer.innerHTML = cart
            .map(
              (item) => `
            <div class="cart-item">
              <img src="${item.image}" alt="${item.name}">
              <div class="cart-item-details">
                <h4>${item.name}</h4>
                <div class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</div>
                <div class="cart-controls">
                  <button class="qty-btn" onclick="updateQuantity('${item.id}', -1)">-</button>
                  <span>${item.quantity}</span>
                  <button class="qty-btn" onclick="updateQuantity('${item.id}', 1)">+</button>
                  <button class="remove-btn" onclick="removeFromCart('${item.id}')">Remove</button>
                </div>
              </div>
            </div>
          `
            )
            .join("");
        }
      }

      window.updateQuantity = (productId, change) => {
        const item = cart.find((item) => item.id === productId);
        if (!item) return;
        item.quantity += change;
        if (item.quantity <= 0) {
          window.removeFromCart(productId);
        } else {
          saveCart();
          updateCartUI();
        }
      };

      window.removeFromCart = (productId) => {
        cart = cart.filter((item) => item.id !== productId);
        saveCart();
        updateCartUI();
      };

      function openCart() {
        if (!cartOverlay) return;
        cartOverlay.classList.remove("hidden");
        setTimeout(() => cartOverlay.classList.add("open"), 10);
      }

      function closeCart() {
        if (!cartOverlay) return;
        cartOverlay.classList.remove("open");
        setTimeout(() => cartOverlay.classList.add("hidden"), 300);
      }

      async function handleCheckout() {
        if (!checkoutBtn || cart.length === 0) return;

        const { line_items } = buildStripePayload(cart);
        const originalText = checkoutBtn.innerText;
        checkoutBtn.innerText = "Redirecting to Stripe...";
        checkoutBtn.disabled = true;

        try {
          const response = await fetch("/create-checkout-session", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ items: line_items }),
          });

          if (!response.ok) {
            alert("There was a problem starting checkout. Please try again.");
            checkoutBtn.innerText = originalText;
            checkoutBtn.disabled = false;
            return;
          }

          const data = await response.json();
          window.location.href = data.url;
        } catch (err) {
          console.error("Error:", err);
          alert("Unexpected error. Please try again.");
          checkoutBtn.innerText = originalText;
          checkoutBtn.disabled = false;
        }
      }

      function openMobileMenu() {
        if (!mobileMenuOverlay) return;
        mobileMenuOverlay.classList.remove("hidden");
        requestAnimationFrame(() => {
          mobileMenuOverlay.classList.add("open");
        });
      }

      function closeMobileMenu() {
        if (!mobileMenuOverlay) return;
        mobileMenuOverlay.classList.remove("open");
        setTimeout(() => {
          mobileMenuOverlay.classList.add("hidden");
        }, 300);
      }

      // --------- CARTOONS GRID ----------
      const grid = document.querySelector(".grid");
      const filter = document.getElementById("categoryFilter");

      function slugifyCategory(str) {
        return String(str || "")
          .toLowerCase()
          .trim()
          .replace(/&/g, "and")
          .replace(/[^a-z0-9]+/g, "-")
          .replace(/^-+|-+$/g, "");
      }

    function renderVideos() {
  if (!grid) return;
  grid.innerHTML = "";

  videolist.forEach((video) => {
    const categoryLabel = getCategoryLabel(video.category); // SHORT
    const typeLabel = getTypeLabel(video.type);            // SHORT

    const catSlug = slugifyCategory(categoryLabel);

    const wrapper = document.createElement("div");
    wrapper.className = "video-wrapper video";
    wrapper.dataset.category = catSlug;

    const link = document.createElement("a");
    link.className = "video-link";
    link.href = video.url;
    link.target = "_blank";
    link.rel = "noopener noreferrer";

    const banner = document.createElement("img");
    banner.className = "video-thumb";
    banner.src = video.image;
    banner.alt = video.name;

    link.appendChild(banner);
    wrapper.appendChild(link);

    const body = document.createElement("div");
    body.className = "video-body";

    const title = document.createElement("div");
    title.className = "video-title";
    title.textContent = video.name;

    const meta = document.createElement("div");
    meta.className = "video-meta";

    const type = document.createElement("div");
    type.className = "video-type";
    type.textContent = typeLabel;

    const chip = document.createElement("div");
    chip.className = "chip";
    chip.textContent = categoryLabel; // SHORT

    meta.appendChild(type);
    meta.appendChild(chip);

    const desc = document.createElement("div");
    desc.className = "translation";
    desc.textContent = video.description;

    body.appendChild(title);
    body.appendChild(meta);
    body.appendChild(desc);

    wrapper.appendChild(body);
    grid.appendChild(wrapper);
  });
}

     function populateCategoryFilter() {
  if (!filter) return;

  // unique SHORT category labels
  const categories = Array.from(
    new Set(videolist.map((v) => getCategoryLabel(v.category)))
  ).sort((a, b) => a.localeCompare(b));

  categories.forEach((catLabel) => {
    const opt = document.createElement("option");
    opt.value = slugifyCategory(catLabel);
    opt.textContent = catLabel;
    filter.appendChild(opt);
  });

  filter.addEventListener("change", () => {
    const value = filter.value;
    const all = document.querySelectorAll(".video");
    all.forEach((card) => {
      const matches = value === "all" || card.dataset.category === value;
      card.style.display = matches ? "block" : "none";
    });
  });
}

      // floating hearts (your original, slightly lighter)
      window.addEventListener("load", () => {
        document.body.classList.add("loaded");

        const iconSrc = "https://img.icons8.com/color/96/like--v1.png";
        for (let i = 0; i < 14; i++) {
          const icon = document.createElement("img");
          icon.src = iconSrc;
          icon.classList.add("heart");
          icon.style.left = Math.random() * 100 + "vw";
          icon.style.animationDelay = Math.random() * 10 + "s";
          icon.style.width = (16 + Math.random() * 10).toFixed(2) + "px";
          icon.style.animationDuration = (7 + Math.random() * 5).toFixed(2) + "s";
          document.body.appendChild(icon);
        }

        init();
      });
    </script>
  </body>
</html>
